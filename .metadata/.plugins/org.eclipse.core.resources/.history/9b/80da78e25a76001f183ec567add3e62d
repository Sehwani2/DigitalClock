/*
 * stopwatch.c
 *
 *  Created on: Sep 19, 2024
 *      Author: hyn02
 */

volatile StopWatch stopwatch = {STOPPED,{0,0,0,0}};



void updateStopwatchTime()
{
	if(stopwatch.Time.millisecond >= 1000)
	{
		stopwatch.Time.millisecond = 0;
		stopwatch.Time.second++;
	}
	if(stopwatch.Time.second >= 60)
	{
		stopwatch.Time.second = 0;
		stopwatch.Time.minutes++;
	}
	if(stopwatch.Time.minutes >= 60)
	{
		stopwatch.Time.minutes = 0;
		stopwatch.Time.hours++;
	}
	if(stopwatch.Time.hours >= 24)
	{
		stopwatch.Time.hours = 0;
	}
}

void updateStopwatchState(void)
{
    if(stopwatch.State == RUNNING)
    {
        stopwatch.Time.millisecond++;
        updateStopwatchTime();
    }

    if(stopwatch.State == STOPPED)
    {
        stopwatch.Time.hours = 0;
        stopwatch.Time.minutes = 0;
        stopwatch.Time.second = 0;
        stopwatch.Time.millisecond = 0;
    }
}
